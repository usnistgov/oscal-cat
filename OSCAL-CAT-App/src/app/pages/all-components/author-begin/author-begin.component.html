<div>
    <ion-grid>
        <ion-row>
            <ion-col>
                <ion-title>&nbsp;&nbsp;Select Authoring Mode</ion-title>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-text>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    Start new profile with a catalog, or continue previously saved session.
                </ion-text>
            </ion-col>
        </ion-row>
    </ion-grid>
</div>
<br />
<div>
    <ion-radio-group #mainRadioGroup (ionChange)="handleRadioChange($event)" value="this.activeItemString"
        [(ngModel)]="this.activeItemString">
        <div *ngIf="true">
            <!-- Start with a new document (from scratch) -->
            <ion-grid>
                <ion-row>
                    <ion-col>
                        <ion-title>&nbsp;&nbsp;Start with a Known OSCAL Catalog</ion-title>
                    </ion-col>
                </ion-row>

                <!--  onclick="this.popAlert(oscalFile.cat_suffix, itemIndex)" -->
                <div *ngFor="let oscalFile of this.oscalFiles; let itemIndex = index">
                    <ion-row>
                        <ion-col>
                            <ion-item>
                                <ion-radio value="{{itemIndex}}">
                                </ion-radio>&nbsp;&nbsp;&nbsp;&nbsp;
                                <ion-label>Create New Profile Based on {{oscalFile.cat_label}}</ion-label>
                            </ion-item>
                        </ion-col>
                        <!--                     
                    <br />
                    <ion-row *ngIf="this.hasBaseLines(oscalFile)">
                        <ion-item *ngFor="let baseLine of oscalFile.baselines; let idx = index">
                            {{baseLine.cat_suffix}}
                        </ion-item>
                    </ion-row> 
                    -->
                    </ion-row>
                    <oscal-cat-author-view #catDetails [knownCat]="oscalFile" [index]="itemIndex"
                        [showInfo]="this.showActiveCatInfo(itemIndex)" (refreshCats)="this.handleCatRefresh(itemIndex)">
                    </oscal-cat-author-view>
                </div>
            </ion-grid>
        </div>

        <br />
        <!-- 
        <div>Has Saved Work {{this.hasSavedWork()}}</div>
        <div>Not New Draft {{!this.newDraft}} {{this.getDraftsTitle()}}</div>
         -->
        <div *ngIf="!this.newDraft && this.hasSavedWork()">
            <!-- <div>Saved Work Length: {{this.savedWork.length}}</div> -->
            <ion-grid *ngIf="this.savedWork ">
                <ion-row>
                    <ion-col>
                        <ion-title>&nbsp;&nbsp;{{this.getDraftsTitle()}}</ion-title>
                    </ion-col>
                </ion-row>
                <!-- Continue working with the previously saved item(s) -->
                <ion-row *ngFor="let workItem of this.savedWorkPromise | async; let runningSavedIndex = index">
                    <ion-col>

                        <ion-item>
                            <ion-radio value="{{workItem.uuid}}"></ion-radio>&nbsp;&nbsp;&nbsp;&nbsp;
                            <!-- <ion-radio value="{{this.getCatListSize() + runningSavedIndex }}"></ion-radio>&nbsp;&nbsp;&nbsp;&nbsp; -->
                            <ion-label>{{workItem.name}} [{{workItem.uuid}}]</ion-label>

                            <ion-button [title]="'Press to remove '.concat(workItem.name)" color="danger"
                                (click)="presentDeleteWarning($event,runningSavedIndex)">
                                <ion-icon icon='trash-outline'></ion-icon>
                            </ion-button>
                            <!-- disabled="true" -->
                            <ion-button [title]="'Press to edit '.concat(workItem.name)"
                                (click)="presentEditName($event,runningSavedIndex)">
                                <ion-icon icon='pencil-outline'></ion-icon>
                            </ion-button>

                        </ion-item>

                    </ion-col>
                </ion-row>
            </ion-grid>
        </div>
    </ion-radio-group>
    <!--

    <oscal-cat-controls #catControlsTab [ID]="'catControls'" [controls]="[undefined]" actionName="Add"
        iconName="location-outline" parentName="Meta-Information" inputName="Location" [singleMode]="true"
        hideAddButton="true" [hideAddElementButton]="true" [showAddCancelButtons]="true"
        (closeTab)="cancelAddTab($event)" (saveTab)="this.addEditLocation($event, false)">
    </oscal-cat-controls>
    <oscal-cat-params></oscal-cat-params>

    <div>
        <ion-item>
            <<ion-item>
                <ion-label>
                    <p>{{this.knownFiles.getCatSchema().schema}}</p>
                    <h2>{{this.knownFiles.getCatSchema().url}}</h2>
                    <h2>{{this.knownFiles.getCatSchema().fallback_file}}</h2>
                </ion-label>
        </ion-item>
        </ion-item>
    </div> 
    
    -->
</div>